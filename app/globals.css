body {
	overflow: hidden;
}

/* Effet de pulsation pour la fenÃªtre de log en donjon */
.log-messages.pulse-effect {
	animation: logPulse 1.1s cubic-bezier(0.4,0,0.6,1) infinite;
}

@keyframes logPulse {
	0% { box-shadow: 0 0 0 0 rgba(255, 200, 80, 0.25); }
	70% { box-shadow: 0 0 0 8px rgba(255, 200, 80, 0); }
	100% { box-shadow: 0 0 0 0 rgba(255, 200, 80, 0); }
}
:root{
	--bg:#0f0f10;
	--panel:#121214;
	--muted:#9aa0a6;
	--accent:#a85638;
	--accent-2:#2fb3ff;
	--glass: rgba(255,255,255,0.03);
	--gold: #ffd700;
	--radius:12px;
	--mono: 'Geist Mono', monospace;
	scrollbar-color:rgb(255, 255, 255) #111;
  	scrollbar-width: thin;
}



*{box-sizing:border-box}
html,body,#root{height:100%}
body{
	margin:0;
	background:linear-gradient(180deg,#0b0b0c 0%, #121212 60%);
	color:#d8d8d8;
	font-family: var(--mono);
}

.app-header{
	padding:18px 28px;
	display:flex;
	align-items:center;
	justify-content:center;
	flex-direction:column;
	background:transparent;
	position:relative;
}
.app-header h1{color:var(--accent);margin:0;font-size:28px}
.app-header .subtitle{color:var(--muted);font-size:12px;margin-top:6px}

.main-grid{
	display:grid;
	grid-template-columns: 300px 1fr 260px;
	gap:20px;
	padding:20px 28px 60px 28px;
}

.sidebar-left, .sidebar-right{
	background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
	padding:18px;
	border-radius:var(--radius);
}

.center-area{display:flex;flex-direction:column}
.center-top{display:flex;justify-content:flex-start;margin-bottom:12px}

.arena-panel{
	background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
	border-radius:12px;
	padding:18px;
	min-height:460px;
	position:relative;
	box-shadow: 0 10px 30px rgba(0,0,0,0.6);
}
.arena-log{
	background:linear-gradient(180deg, rgba(0,0,0,0.5), rgba(0,0,0,0.6));
	border-radius:8px;
	padding:12px;
	display:flex;
	flex-direction:column;
	gap:12px;
  height: 330px;
}
.enemies-row{
	display:flex;
	align-items:flex-start;
	gap:12px;
	min-height:100px;
	overflow-x:auto;
	overflow-y:hidden;
	padding:8px 0;
	scroll-behavior:smooth;
}
.enemies-row::-webkit-scrollbar{height:6px}
.enemies-row::-webkit-scrollbar-thumb{background:rgba(255,200,80,0.5);border-radius:3px}
.enemies-row::-webkit-scrollbar-thumb:hover{background:rgba(255,200,80,0.8)}
.enemies-row::-webkit-scrollbar-track{background:transparent}
.log-messages{
	flex: 1;
	min-height: 0;
	overflow-y:auto;
	padding:12px 6px;
	background:rgba(0,0,0,0.4);
	border-radius:6px;
	font-family: var(--mono);
	font-size:13px;
	color:#e8e8e8;
	line-height:1.6;
	display: flex;
	flex-direction: column;
	gap: 8px;
}
.log-line{
	padding:10px 12px;
	border-left:3px solid rgba(255, 255, 255, 0.3);
	background:rgba(255,255,255,0.02);
	border-radius:4px;
	word-break: break-word;
	transition: background-color 0.2s ease;
}
.log-line:hover{
	background:rgba(255,255,255,0.05);
	border-left-color:rgba(255,200,80,0.6);
}
.log-content{
	display: flex;
	align-items: center;
	gap: 6px;
	flex-wrap: wrap;
}
.arena-actions{position:absolute;left:18px;bottom:18px;display:flex;gap:10px}

.btn{background:var(--panel);color:#ddd;border:0;padding:8px 12px;border-radius:10px;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,0.6)}
.btn.primary{background:linear-gradient(180deg,#2b2b2c,#141214);padding:8px 14px}
.btn.danger{background:linear-gradient(180deg,#b84b3b,#8a2f2f);color:white}

.player-card{padding:0;display:flex;flex-direction:column;gap:12px}
.player-header{display:flex;align-items:center;gap:12px}
.player-header .avatar{width:44px;height:44px;border-radius:8px;background:linear-gradient(180deg,#593b8f,#2b1343)}
.player-card h3{margin:0}
/* Bars: add spacing and subtle colored borders matching fills */
.bars{display:flex;flex-direction:column;gap:8px}
.bars .hp-bar, .bars .xp-bar{
	padding:4px;
	border-radius:8px;
	/* container shows a thin gradient border while inner track holds the fill */
	background-color: transparent;
	box-shadow: none;
	overflow:hidden;
	border:2px solid transparent;
	background-image: linear-gradient(90deg, rgba(0,0,0,0.0), rgba(0,0,0,0.0)), linear-gradient(90deg, rgba(0,0,0,0.0), rgba(0,0,0,0.0));
	background-origin: padding-box, border-box;
	background-clip: padding-box, border-box;
}
.bars .hp-bar{background-image: linear-gradient(90deg, rgba(0,0,0,0.0), rgba(0,0,0,0.0)), linear-gradient(90deg,#ff3b3b,#ff3b3b)}
.bars .xp-bar{background-image: linear-gradient(90deg, rgba(0,0,0,0.0), rgba(0,0,0,0.0)), linear-gradient(90deg,#6bd07b,#6bd07b)}
.bars .hp-bar, .bars .xp-bar{
	padding:0.1rem;
	border-radius:8px;
	/* container keeps thin gradient border */
	background-color: transparent;
}
.bars .hp-bar .track, .bars .xp-bar .track{
	height:10px;
	background: rgba(0,0,0,0.50); /* darker track for contrast */
	border-radius:6px;
	overflow:hidden;
	position:relative;
}
.bars .hp-bar .fill{height:100%;background-color:#ff3b3b;border-radius:6px;display:block;box-shadow:0 0 10px rgba(255,138,138,0.18), inset 0 -4px 8px rgba(0,0,0,0.18)}
.bars .xp-bar .fill{height:100%;background-color:#6bd07b;border-radius:6px;display:block;box-shadow:0 0 10px rgba(154,230,166,0.18), inset 0 -4px 8px rgba(0,0,0,0.18)}
/* .bars .hp-bar .fill{height:100%;background:linear-gradient(90deg,#ff8a8a,#ff3b3b);border-radius:6px;display:block;box-shadow:0 0 10px rgba(255,138,138,0.18), inset 0 -4px 8px rgba(0,0,0,0.18)}
.bars .xp-bar .fill{height:100%;background:linear-gradient(90deg,#9ee6a6,#6bd07b);border-radius:6px;display:block;box-shadow:0 0 10px rgba(154,230,166,0.18), inset 0 -4px 8px rgba(0,0,0,0.18)} */
.hp-bar{position:relative}
/* smooth HP bar transition */
.bars .hp-bar .fill, .bars .xp-bar .fill{transition: width 480ms cubic-bezier(.2,.9,.2,1)}

/* (track styles defined above) */

/* Floating damage number near the player avatar (MMO-style) */
.damage-number{
	position:absolute;
	left:20px;
	top:6px;
	transform:translateY(0);
	background:transparent;
	color:rgba(255,80,80,0.98);
	font-weight:800;
	font-size:16px;
	text-shadow:0 6px 18px rgba(0,0,0,0.6);
	pointer-events:none;
	animation: dmgFloat 0.9s ease forwards;
	z-index:30;
}
.damage-number.crit{color:#ffd36b; text-shadow:0 6px 20px rgba(255,180,90,0.9); font-size:18px}
@keyframes dmgFloat{
	0%{opacity:1; transform:translateY(0) scale(1)}
	40%{opacity:1; transform:translateY(-10px) scale(1.05)}
	100%{opacity:0; transform:translateY(-28px) scale(0.95)}
}

/* low HP blinking */
.hp-low{animation: hpBlink 1s steps(2, end) infinite}
@keyframes hpBlink{
	0%{filter:brightness(1)}
	50%{filter:brightness(0.4)}
	100%{filter:brightness(1)}
}
.player-stats{font-size:13px;color:var(--muted);line-height:1.4}
.player-actions{display:flex}

.right-buttons{display:flex;flex-direction:column;gap:8px;margin-bottom:18px}
.tier-legend h4{margin:0 0 8px 0;color:var(--muted)}
.tier-legend ul{list-style:none;padding:0;margin:0;font-size:13px;color:var(--muted);display:grid;grid-template-columns:repeat(2, minmax(0,1fr));gap:6px 12px;align-items:start}
.tier-legend li{display:flex;align-items:flex-start;gap:8px;padding:6px 0}
.tier-legend .tier-text{display:flex;flex-direction:column;line-height:1}
.tier-legend .tier-name{font-weight:700;color:inherit}
.tier-legend .tier-range{font-size:12px;color:var(--muted)}
.dot{width:14px;height:14px;border-radius:6px;display:inline-block}
/* Enemy cards with rarity-based styling */
.enemy-card{padding:10px 12px;border-radius:8px;border:2px solid;backdrop-filter:blur(4px)}
.enemy-card.common{background:rgba(255,255,255,0.05);border-color:rgba(255,255,255,0.3)}
.enemy-card.uncommon{background:rgba(46,204,113,0.1);border-color:rgba(46,204,113,0.4)}
.enemy-card.rare{background:rgba(74,163,255,0.1);border-color:rgba(74,163,255,0.4)}
.enemy-card.epic{background:rgba(180,107,255,0.1);border-color:rgba(180,107,255,0.4)}
.enemy-card.legendary{background:rgba(255,211,107,0.1);border-color:rgba(255,211,107,0.4)}
.enemy-card.mythic{background:rgba(255,107,107,0.15);border-color:rgba(255,107,107,0.6)}

.dot.common{background:#f2f2f2}
.dot.uncommon{background:#2ecc71}
.dot.rare{background:#4aa3ff}
.dot.epic{background:#b46bff}
.dot.legendary{background:#ffd36b}
.dot.mythic{background:#ff6b6b;}

/* Enemy name rarity colors */
.enemy-name.common{color:#ffffff}
.enemy-name.uncommon{color:#2ecc71}
.enemy-name.rare{color:#4aa3ff}
.enemy-name.epic{color:#b46bff}
.enemy-name.legendary{color:#ffd36b}
.enemy-name.mythic{color:#ff6b6b}

/* pulse effect for mythic names */
.enemy-name.mythic{
	animation: pulse 1.2s infinite ease-in-out;
}
@keyframes pulse{
	0%{text-shadow:0 0 6px rgba(255,107,107,0.6)}
	50%{text-shadow:0 0 18px rgba(255,107,107,0.95)}
	100%{text-shadow:0 0 6px rgba(255,107,107,0.6)}
}

/* Effects layer */
.effects-layer{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none}
.damage-popup{
	position:absolute;
	transform:translate(-50%, -50%);
	padding:6px 10px;
	border-radius:8px;
	background:rgba(0,0,0,0.6);
	color:#fff;
	font-weight:700;
	font-family:var(--mono);
	animation: popupUp 1.6s ease forwards;
	text-shadow:0 2px 8px rgba(0,0,0,0.6);
}
.damage-popup.hit{background:rgba(80,80,80,0.9)}
.damage-popup.crit{background:linear-gradient(90deg,#ffd36b,#ffb84b);color:#111}
.damage-popup.dodge{background:rgba(70,140,255,0.95);}

@keyframes popupUp{
	0%{opacity:0; transform:translate(-50%, 0) scale(0.9)}
	10%{opacity:1}
	60%{transform:translate(-50%, -36px) scale(1)}
	100%{opacity:0; transform:translate(-50%, -56px) scale(0.9)}
}

/* small shake for arena panel when crit */
.shake{animation:shake 0.45s ease}
@keyframes shake{
	0%{transform:translateX(0)}
	25%{transform:translateX(-6px)}
	50%{transform:translateX(6px)}
	75%{transform:translateX(-4px)}
	100%{transform:translateX(0)}
}

@media(max-width:900px){
	.main-grid{grid-template-columns:1fr;}
	.sidebar-left,.sidebar-right{display:none}
}

/* Level-up badge animation */
.level-up-badge{
	position:absolute;
	left:50%;
	top:8px;
	transform:translateX(-50%);
	background:linear-gradient(90deg,#ffd36b,#ffb84b);
	color:#111;
	padding:8px 14px;
	border-radius:18px;
	font-weight:700;
	box-shadow:0 8px 24px rgba(0,0,0,0.5);
	animation: levelUp 1.8s ease forwards;
	z-index:40;
}
@keyframes levelUp{
	0%{opacity:0; transform:translate(-50%, -8px) scale(0.85)}
	10%{opacity:1; transform:translate(-50%, 0) scale(1.08)}
	40%{transform:translate(-50%, -6px) scale(1)}
	70%{transform:translate(-50%, -2px) scale(1)}
	100%{opacity:0; transform:translate(-50%, -10px) scale(0.9)}
}

/* Streak pulse animation */
@keyframes streakPulse{
	0%{transform:scale(1)}
	50%{transform:scale(1.08)}
	100%{transform:scale(1)}
}

/* Pickup marker styles (gold/item) */
.pickup{
	position:absolute;
	transform:translate(-50%,-50%);
	pointer-events:auto;
	display:flex;
	align-items:center;
	gap:8px;
	padding:8px 10px;
	border-radius:12px;
	min-width:72px;
	max-width:200px;
	font-weight:700;
	font-size:14px;
	z-index:50;
	box-shadow:0 6px 18px rgba(0,0,0,0.5);
	transition:transform 160ms ease, box-shadow 160ms ease;
	cursor:pointer;
}
.pickup:hover{transform:translate(-50%,-55%) scale(1.03); box-shadow:0 10px 30px rgba(0,0,0,0.6)}
.pickup .label{color:inherit; font-weight:800}
/* Solid backgrounds (no gradients) for pickups */
.pickup.gold{background-color:transparent; ; box-shadow:0 6px 18px rgba(0,0,0,0.12)}
.pickup.gold .label{color:#ffd700}
.pickup.gold .icon{color:#ffd700}
.pickup.item{background-color:#eef6ff; border:1px solid rgba(120,160,220,0.95); box-shadow:0 6px 18px rgba(0,0,0,0.10)}

/* Rarity-specific pickup backgrounds (more vivid) */
.pickup.common{background-color:#f6f6f6; border:1px solid rgba(220,220,220,0.98); box-shadow:0 6px 14px rgba(0,0,0,0.12); color:#111}
.pickup.uncommon{background-color:#2ecc71; border:1px solid rgba(46,204,113,0.95); box-shadow:0 6px 20px rgba(46,204,113,0.12); color:#ffffff}
.pickup.rare{background-color:#1e90ff; border:1px solid rgba(30,144,255,0.95); box-shadow:0 6px 20px rgba(30,144,255,0.12); color:#001428}
.pickup.epic{background-color:#8a2be2; border:1px solid rgba(138,43,226,0.95); box-shadow:0 6px 20px rgba(138,43,226,0.12); color:#ffffff}
.pickup.legendary{background-color:#ffb84d; border:1px solid rgba(255,184,77,0.95); box-shadow:0 6px 20px rgba(255,184,77,0.14); color:#2b2000}
.pickup.mythic{background-color:#ff4d4d; border:1px solid rgba(255,77,77,0.95); box-shadow:0 6px 20px rgba(255,77,77,0.14); color:#350000}
.pickup .icon{font-size:16px}

/* subtle bounce when spawn */
.pickup.spawn{
	animation: pickupBounce 620ms cubic-bezier(.2,.9,.2,1);
}
@keyframes pickupBounce{
	0%{transform:translate(-50%,-40%) scale(0.9); opacity:0}
	30%{transform:translate(-50%,-60%) scale(1.06); opacity:1}
	100%{transform:translate(-50%,-50%) scale(1); opacity:1}
}

/* When a modal is open, disable pointer interactions for underlying floating layers
	 so the modal always receives clicks (prevents overlays from stealing pointer). */
.modal-open .pickup,
.modal-open .effects-layer,
.modal-open .damage-popup,
.modal-open .level-up-badge {
	pointer-events: none !important;
}

/* Strong isolation: when a modal is open, disable pointer events for everything
   except the modal backdrop and its children. This helps identify/stop any
   overlay that still steals clicks (debugging rule, safe to keep). */
/* Disable pointer interactions for all top-level page children except the modal
   when a modal is open. Using a complex `:not()` with a descendant selector
   is not widely supported and caused modal descendants to be non-interactive.
   This selector targets direct children of `body` and keeps `.app-modal-backdrop`
   interactive. */
body.modal-open > *:not(.app-modal-backdrop) {
	pointer-events: none !important;
	user-select: none !important;
}

/* Ensure modal classes sit on top */
.app-modal-backdrop{z-index:1000000}
.app-modal-panel{z-index:1000001}

/* Ensure everything inside the modal remains interactive */
.modal-open .app-modal-backdrop *, .modal-open .app-modal-panel * {
	pointer-events: auto !important;
	user-select: auto !important;
}

/* Additionally ensure modal-scoped overlays (if any) are disabled */
.modal-open .app-modal-backdrop .pickup,
.modal-open .app-modal-backdrop .effects-layer,
.modal-open .app-modal-backdrop .damage-popup,
.modal-open .app-modal-backdrop .level-up-badge {
	pointer-events: none !important;
}

/* Tooltip styles for action buttons */
.tooltip-wrapper {
	position: relative;
	display: inline-block;
}

.tooltip-wrapper .tooltip {
	visibility: hidden;
	position: absolute;
	bottom: 110%;
	left: 50%;
	transform: translateX(-50%);
	background: rgba(20, 20, 20, 0.95);
	color: #fff;
	text-align: center;
	border: 1px solid #444;
	border-radius: 6px;
	padding: 8px 12px;
	width: 180px;
	font-size: 12px;
	line-height: 1.4;
	z-index: 100;
	white-space: normal;
	opacity: 0;
	transition: opacity 0.3s ease, visibility 0.3s ease;
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.6);
	backdrop-filter: blur(4px);
	pointer-events: none;
}

.tooltip-wrapper .tooltip::after {
	content: '';
	position: absolute;
	top: 100%;
	left: 50%;
	transform: translateX(-50%);
	border: 6px solid transparent;
	border-top-color: rgba(20, 20, 20, 0.95);
}

.tooltip-wrapper:hover .tooltip {
	visibility: visible;
	opacity: 1;
}
/* === EVENT SYSTEM STYLES === */

.event-display {
	padding: 10px 12px;
	margin-bottom: 10px;
	border-radius: 8px;
	border-left: 4px solid rgba(255, 255, 255, 0.2);
	backdrop-filter: blur(12px);
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
	transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
	position: relative;
	overflow: hidden;
	flex-shrink: 0;
}

.event-tooltip {
	position: absolute;
	bottom: calc(100% + 8px);
	left: 50%;
	transform: translateX(-50%);
	background: rgba(20, 20, 20, 0.95);
	color: #fff;
	text-align: center;
	border: 1px solid #444;
	border-radius: 6px;
	padding: 8px 12px;
	width: 200px;
	font-size: 12px;
	line-height: 1.4;
	z-index: 100;
	white-space: normal;
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.6);
	backdrop-filter: blur(4px);
	pointer-events: none;
	animation: tooltipFade 0.2s ease-out;
}

@keyframes tooltipFade {
	from {
		opacity: 0;
		transform: translateX(-50%) translateY(4px);
	}
	to {
		opacity: 1;
		transform: translateX(-50%) translateY(0);
	}
}

.event-tooltip::after {
	content: '';
	position: absolute;
	top: 100%;
	left: 50%;
	transform: translateX(-50%);
	border: 6px solid transparent;
	border-top-color: rgba(20, 20, 20, 0.95);
}

.event-display.event-pulse {
	animation: eventPulse 2s ease-in-out infinite;
}

@keyframes eventPulse {
	0%, 100% {
		opacity: 1;
		box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
	}
	50% {
		opacity: 0.85;
		box-shadow: 0 8px 32px rgba(255, 255, 255, 0.15);
	}
}

.event-header {
	display: flex;
	align-items: center;
	gap: 10px;
	margin-bottom: 8px;
	font-weight: 700;
	font-size: 14px;
	text-transform: uppercase;
	letter-spacing: 1px;
	color: rgba(255, 255, 255, 0.95);
}

.event-icon {
	font-size: 18px;
	display: inline-block;
	animation: eventIconBounce 1.5s ease-in-out infinite;
	min-width: 24px;
	text-align: center;
}

.event-icon-svg {
	width: 32px;
	height: 32px;
	display: inline-block;
	animation: eventIconBounce 1.5s ease-in-out infinite;
	filter: brightness(1.1);
	margin-right: 4px;
}

@keyframes eventIconBounce {
	0%, 100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-4px);
	}
}

.event-name {
	flex: 1;
	color: rgba(255, 255, 255, 0.9);
}

.event-duration {
	font-size: 12px;
	color: rgba(255, 255, 255, 0.6);
	font-weight: 500;
	background: rgba(255, 255, 255, 0.1);
	padding: 3px 8px;
	border-radius: 4px;
}

.event-description {
	margin: 0;
	font-size: 12px;
	color: rgba(255, 255, 255, 0.75);
	line-height: 1.4;
	font-style: italic;
	opacity: 0.9;
}

/* Event trigger message in logs */
.event-trigger-message {
	padding: 8px 12px;
	background: rgba(255, 255, 255, 0.08);
	border-left: 3px solid rgba(255, 200, 80, 0.6);
	border-radius: 4px;
	margin: 8px 0;
	font-size: 12px;
	color: rgba(255, 200, 80, 0.9);
	font-weight: 600;
	animation: eventTrigger 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes eventTrigger {
	0% {
		opacity: 0;
		transform: translateY(-8px);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}